!function(e){e.fn.blobber=function(o){var t=1,n=e.extend({complete:null,progressbar:!0},o);e(this).find("video").each(function(){var o=e(this).attr("src"),r="#"+e(this).attr("id"),s=e("video").length,a=0;!function(o,t){var n=new XMLHttpRequest;n.callback=t,n.arguments=Array.prototype.slice.call(arguments,2),n.onload=function(){if(this.callback.apply(this,this.arguments),4==n.readyState&&200==n.status){var o=this.response,t=URL.createObjectURL(o);e(r).attr("src",t)}else console.error(n.statusText)},n.onerror=function(){console.error(this.statusText),console.log(":-( Sorry! We have an error.")},n.open("GET",o,!0),n.responseType="blob",n.addEventListener("progress",function(e){e.lengthComputable?a=e.loaded/e.total/s*100:console.log("We have an error")},!1),n.send(null)}(o,function(o){var r=e(".progress").width()/e(document).width()*100+a;e(".progress").animate({width:r+"%"}),s>1?console.log("Downloading Videos: "+t+" of "+s+" Videos Downloaded. (Ready at "+s+")"):console.log("Downloading Videos: 1 Video is Downloaded."),(t+=1)==s+1&&(e.isFunction(n.complete)?n.complete.call(this):(console.log("Hooray! We're Ready to Fire."),e(".progress").fadeOut()))})})}}(jQuery);
//# sourceMappingURL=blobber.js.map